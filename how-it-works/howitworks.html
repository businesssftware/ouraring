<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>How It Works - Smart Ring Health Tracking</title>
    <link rel="stylesheet" type="text/css" href="/shared/style.css" />
    <link rel="stylesheet" href="howitworks.css" />
  </head>
  <body>
    <header>/* components/header/header.html yongjunnnnn*/</header>

    <div id="html2-container"></div>
    <!-- HTML2 内容将加载到这里 froont /  back -->

    <!-- Hero Section -->
    <section class="hero-section" >
      <div class="overlay" ><video
          src="\assets\vid\hero_bg_d.mp4"
          autoplay
          muted
          loop
          
        ></video></div>
      <div class="hero-content"  >          
        
        <h1 class="hero-title">How It Works</h1>
        <h2 class="hero-subtitle">Spend a day with Oura</h2>
        <p class="hero-description" >
          That smart ring on your finger? It's continually collecting data on
          over 20 biometrics that directly impact your wellbeing, day and night.
        </p>
      </div>

      <div class="scroll-indicator">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M7 14l5 5 5-5z" />
        </svg>
      </div>
    </section>

    <!-- Traditional Scrolling Sections -->
    <!-- Wake Up Section -->
    <section class="traditional-section section-dark">
      <div class="section-container">
        <div class="section-content">
          <h2 class="section-title">Wake up rested</h2>
          <p class="section-description">
            Check your daily Readiness and Sleep Scores in the Oura App to
            clearly understand if you're ready to get after it or if you should
            get back in bed.
          </p>
          <ul class="section-features">
            <li>Personalized sleep insights</li>
            <li>Daily readiness scores</li>
            <li>Sleep quality analysis</li>
            <li>Recovery recommendations</li>
          </ul>
        </div>
        <div class="section-visual">
          <img src="\assets\img\heart_rate_variability_en.png" alt="Heart Rate Variability"  />
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Activity Section -->
    <section class="traditional-section section-gradient">
      <div class="section-container">
        <div class="section-visual">
          <div class="visual-element">
            <img src="\assets\img\bedtime_guidance_en.png" alt="Heart Rate Variability"  />                
            </div>
          </div>
        </div>
        <div class="section-content">
          <h2 class="section-title">Ready, set, get going</h2>
          <p class="section-description">
            From running to rowing, Oura tracks your daily movement to help you
            achieve your goals. You're not in it alone — share your daily scores
            and achievements with your community in Oura Circles.
          </p>
          <ul class="section-features">
            <li>Activity tracking</li>
            <li>Movement goals</li>
            <li>Community sharing</li>
            <li>Progress insights</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Balance Section -->
    <section class="traditional-section section-purple">
      <div class="section-container">
        <div class="section-content">
          <h2 class="section-title">Find balance in your day</h2>
          <p class="section-description">
            Oura detects and guides you through moments of stress to help you
            find balance in your day-to-day.
          </p>
          <ul class="section-features">
            <li>Stress detection</li>
            <li>Guided breathing</li>
            <li>Balance insights</li>
            <li>Mindfulness reminders</li>
          </ul>
        </div>
        <div class="section-visual">
          <div class="visual-element">
            <img style=" object-fit: cover;" src="\assets\img\daytime_stress_en_1.png" alt="Heart Rate Variability"  />
        </div>
      </div>
    </section>













    <!-- Transition Section -->
    <section class="transition-section">
      <div class="transition-content">
        <h2 class="transition-title">Experience the Journey</h2>
        <p class="transition-subtitle">
          Now, let's take you through an interactive day with Oura. Watch how
          your ring works throughout different moments.
        </p>
      </div>
    </section>
















    <!-- Interactive Showcase Section -->
    <div class="showcase-wrapper">
      <div class="main-content">
        <!-- Rest Section -->
        <section class="content-section section-blue" data-index="0">
          <div class="section-container">
            <div class="section-visual">
              <img src="\assets\img\pop_charger_set@3x_2.jpg" alt="Heart Rate Variability"  /> 
              </div>
            </div>
            <div class="section-content">
              <h2 class="section-title">Take a breather</h2>
              <p class="section-description">
                Oura helps you find and embrace restorative moments throughout
                your day.
              </p>
              <ul class="section-features">
                <li>Restorative moments</li>
                <li>Recovery tracking</li>
                <li>Breathing exercises</li>
                <li>Wellness guidance</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Sleep Section -->
        <section class="content-section section-green" data-index="1">
          <div class="section-container">
            <div class="section-content">
              <h2 class="section-title">Wind down</h2>
              <p class="section-description">
                When you go to sleep, Oura goes to work — translating your sleep
                data to define your optimal sleep schedule and spot areas for
                improvement.
              </p>
              <ul class="section-features">
                <li>Sleep schedule optimization</li>
                <li>Sleep pattern analysis</li>
                <li>Improvement recommendations</li>
                <li>Circadian rhythm tracking</li>
              </ul>
            </div>
            <div class="section-visual">
              <div class="visual-element">
               <img src="\assets\img\resilience_en.png" alt="Heart Rate Variability"  />
              </div>
            </div>
          </div>
        </section>

        <!-- Morning Section -->
        <section class="content-section section-dark" data-index="2">
          <div class="section-container">
            <img src="\assets\img\partner_integrations_en.png" alt="Heart Rate Variability"  /> 
            <div class="section-content">
              <h2 class="section-title">Rise and shine</h2>
              <p class="section-description">
                Start your morning with personalized insights. Your Oura ring
                has been working all night to give you the perfect wake-up call
                with your readiness score.
              </p>
              <ul class="section-features">
                <li>Morning readiness insights</li>
                <li>Sleep quality summary</li>
                <li>Energy level predictions</li>
                <li>Daily recommendations</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Afternoon Section -->
        <section class="content-section section-gradient" data-index="3">
          <div class="section-container">
            <div class="section-content">
              <h2 class="section-title">Power through your day</h2>
              <p class="section-description">
                Whether you're crushing a workout or managing a busy schedule,
                Oura tracks every heartbeat and movement to optimize your
                performance.
              </p>
              <ul class="section-features">
                <li>Real-time activity tracking</li>
                <li>Heart rate monitoring</li>
                <li>Stress level detection</li>
                <li>Performance optimization</li>
              </ul>
            </div>
            <div class="section-visual">
              <div class="visual-element">
                <img src="\assets\img\lifestyle_photo_grid_2_4.jpg" alt="Heart Rate Variability"  />
              </div>
            </div>
          </div>
        </section>

        <!-- Evening Section -->
        <section class="content-section section-purple" data-index="4">
          <div class="section-container">
            <div class="section-visual">
              <img src="\assets\img\BKG_blur_VSH5YX.png" alt="Heart Rate Variability"  />
              </div>
            </div>
            <div class="section-content">
              <h2 class="section-title">Evening reflection</h2>
              <p class="section-description">
                As your day winds down, Oura helps you reflect on your
                achievements and prepares your body for optimal recovery.
              </p>
              <ul class="section-features">
                <li>Daily summary insights</li>
                <li>Recovery preparation</li>
                <li>Sleep readiness score</li>
                <li>Tomorrow's planning</li>
              </ul>
            </div>
          </div>
        </section>
      </div>























      <!-- Progress Indicator -->
      <div class="progress-indicator">
        <div class="progress-dot active" onclick="showSection(0)"></div>
        <div class="progress-dot" onclick="showSection(1)"></div>
        <div class="progress-dot" onclick="showSection(2)"></div>
        <div class="progress-dot" onclick="showSection(3)"></div>
        <div class="progress-dot" onclick="showSection(4)"></div>
      </div>
    </div>






    <!-- Membership Section -->
    <section class="membership-section">
      <video src="\assets\vid\how_it_works_3pm.mp4" autoplay muted loop></video>

      <div class="membership-container">
        <h2 class="membership-title">Become a member</h2>
        <p class="membership-description">
          The Oura member experience is always evolving to help you meet each of
          your health goals, with expanded features, new insights, and more.
        </p>
        <div class="membership-badge">FSA or HSA eligible</div>
      </div>
    </section>

    <footer></footer>

    <script>
      // Traditional scrolling animation observer
      const observerOptions = {
        threshold: 0.3,
        rootMargin: "0px 0px -100px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const content = entry.target.querySelector(".section-content");
            const visual = entry.target.querySelector(".section-visual");

            if (content) content.classList.add("animate");
            if (visual) visual.classList.add("animate");
          }
        });
      }, observerOptions);

      // Observe traditional sections
      document.querySelectorAll(".traditional-section").forEach((section) => {
        observer.observe(section);
      });

      // Interactive showcase functionality
      let currentSectionIndex = 0;
      let isAutoPlaying = false;
      let autoPlayInterval;
      let showcaseStarted = false;

      const sections = document.querySelectorAll(".content-section");
      const progressDots = document.querySelectorAll(".progress-dot");

      function showSection(index) {
        // Remove all active classes
        sections.forEach((section) => section.classList.remove("active"));
        progressDots.forEach((dot) => dot.classList.remove("active"));

        // Show current section
        sections[index].classList.add("active");
        progressDots[index].classList.add("active");

        currentSectionIndex = index;
      }

      function nextSection() {
        const nextIndex = (currentSectionIndex + 1) % sections.length;
        showSection(nextIndex);
      }

      function startShowcase() {
        if (showcaseStarted) return;
        showcaseStarted = true;

        showSection(0);
        isAutoPlaying = true;

        autoPlayInterval = setInterval(() => {
          if (isAutoPlaying) {
            nextSection();
          }
        }, 4000); // Switch every 4 seconds
      }

      // Click handler for progress dots
      function handleDotClick(index) {
        isAutoPlaying = false;
        clearInterval(autoPlayInterval);
        showSection(index);

        // Resume auto-play after 3 seconds
        setTimeout(() => {
          isAutoPlaying = true;
          autoPlayInterval = setInterval(() => {
            if (isAutoPlaying) {
              nextSection();
            }
          }, 4000);
        }, 3000);
      }

      // Bind click events to progress dots
      progressDots.forEach((dot, index) => {
        dot.addEventListener("click", () => handleDotClick(index));
      });

      // Scroll detection for showcase activation
      const showcaseObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting && !showcaseStarted) {
              startShowcase();
            }
          });
        },
        {
          threshold: 0.5,
        }
      );

      // Observe the showcase wrapper
      const showcaseWrapper = document.querySelector(".showcase-wrapper");
      if (showcaseWrapper) {
        showcaseObserver.observe(showcaseWrapper);
      }

      // Hero scroll indicator click
      const scrollIndicator = document.querySelector(".scroll-indicator");
      if (scrollIndicator) {
        scrollIndicator.addEventListener("click", () => {
          const firstSection = document.querySelector(".traditional-section");
          if (firstSection) {
            firstSection.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      }

      // Parallax effect for floating ring
      window.addEventListener("scroll", () => {
        const scrolled = window.pageYOffset;
        const parallax = document.querySelector(".floating-ring");
        if (parallax) {
          const speed = scrolled * 0.5;
          parallax.style.transform = `translateY(${speed}px) rotate(${
            scrolled * 0.1
          }deg)`;
        }
      });

      // Pause auto-play when user interacts with showcase
      const mainContent = document.querySelector(".main-content");
      if (mainContent) {
        mainContent.addEventListener("mouseenter", () => {
          isAutoPlaying = false;
        });

        mainContent.addEventListener("mouseleave", () => {
          if (showcaseStarted) {
            isAutoPlaying = true;
          }
        });
      }

      // Handle visibility change (pause when tab is hidden)
      document.addEventListener("visibilitychange", () => {
        if (document.hidden) {
          isAutoPlaying = false;
        } else if (showcaseStarted) {
          isAutoPlaying = true;
        }
      });

      // Touch/swipe support for mobile
      let touchStartX = 0;
      let touchStartY = 0;

      if (mainContent) {
        mainContent.addEventListener("touchstart", (e) => {
          touchStartX = e.touches[0].clientX;
          touchStartY = e.touches[0].clientY;
        });

        mainContent.addEventListener("touchend", (e) => {
          const touchEndX = e.changedTouches[0].clientX;
          const touchEndY = e.changedTouches[0].clientY;
          const deltaX = touchEndX - touchStartX;
          const deltaY = touchEndY - touchStartY;

          // Only handle horizontal swipes (ignore vertical scrolling)
          if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 50) {
            isAutoPlaying = false;
            clearInterval(autoPlayInterval);

            if (deltaX > 0) {
              // Swipe right - previous section
              const prevIndex =
                currentSectionIndex === 0
                  ? sections.length - 1
                  : currentSectionIndex - 1;
              showSection(prevIndex);
            } else {
              // Swipe left - next section
              nextSection();
            }

            // Resume auto-play after swipe
            setTimeout(() => {
              isAutoPlaying = true;
              autoPlayInterval = setInterval(() => {
                if (isAutoPlaying) {
                  nextSection();
                }
              }, 4000);
            }, 3000);
          }
        });
      }

      // Keyboard navigation
      document.addEventListener("keydown", (e) => {
        if (
          showcaseStarted &&
          (e.key === "ArrowLeft" || e.key === "ArrowRight")
        ) {
          e.preventDefault();
          isAutoPlaying = false;
          clearInterval(autoPlayInterval);

          if (e.key === "ArrowLeft") {
            const prevIndex =
              currentSectionIndex === 0
                ? sections.length - 1
                : currentSectionIndex - 1;
            showSection(prevIndex);
          } else {
            nextSection();
          }

          // Resume auto-play after keyboard navigation
          setTimeout(() => {
            isAutoPlaying = true;
            autoPlayInterval = setInterval(() => {
              if (isAutoPlaying) {
                nextSection();
              }
            }, 4000);
          }, 3000);
        }
      });
    </script>
    <script>
// 设置 cookie
function setCookie(name, value, days) {
  let date = new Date();
  date.setTime(date.getTime() + (days*24*60*60*1000));
  let expires = "expires=" + date.toUTCString();
  document.cookie = name + "=" + encodeURIComponent(value) + ";" + expires + ";path=/";
}

// 获取 cookie
function getCookie(name) {
  let cname = name + "=";
  let decodedCookie = decodeURIComponent(document.cookie);
  let ca = decodedCookie.split(';');
  for (let c of ca) {
    c = c.trim();
    if (c.indexOf(cname) === 0) {
      return c.substring(cname.length);
    }
  }
  return "";
}

// 删除 cookie（方便调试）
function deleteCookie(name) {
  document.cookie = name + "=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
}

// 页面加载执行
window.onload = function() {
  let username = getCookie("username");
  console.log("当前 cookie 值:", username); // 调试用

  if (!username) {
    username = prompt("请输入你的名字：");
    if (username) {
      setCookie("username", username, 7);
      alert("你好, " + username + "!");
    } else {
      alert("你没输入名字，cookie 不会保存。");
    }
  } else {
    alert("欢迎回来, " + username + "!");
  }
}
</script>



    <script>
     
    </script>
    <script src="howitworks.js"></script>

    <script>
      //load continuous webpage contetn
      fetch("howitwork2.html")
        .then((res) => {
          if (!res.ok) {
            // 比如 404/500 这种情况
            throw new Error(`HTTP 错误: ${res.status}`);
          }
          return res.text();
        })
        .then((html) => {
          const container = document.getElementById("html2-container");
          container.innerHTML = html;

          // 执行 HTML2 内的脚本
          container.querySelectorAll("script").forEach((oldScript) => {
            const newScript = document.createElement("script");
            if (oldScript.src) {
              newScript.src = oldScript.src;
            } else {
              newScript.textContent = oldScript.textContent;
            }
            document.body.appendChild(newScript);
          });
        })
        .catch((err) => {
          console.error("加载 HTML2 失败:", err);
          alert("加载 HTML2 失败: " + err.message);
        });

      //loadfile
      //dynamic load footer to all page if this code
      fetch("/components/footer/footer.html")
        .then((res) => res.text())
        .then((data) => {
          document.querySelector("footer").innerHTML = data;
          document.getElementsByTagName("footer")[0].innerHTML = data;

          // footer插入后再加载 footer.js
          const script = document.createElement("script");
          script.src = "/components/footer/footer.js";
          document.body.appendChild(script);
        });

      // 加载 footer.css（如果没有在 head 里 preload）
      const link = document.createElement("link");
      link.rel = "stylesheet";
      link.href = "/components/footer/footer.css";
      document.head.appendChild(link);

      // 加载 shared/style.css
      const link2 = document.createElement("link");
      link2.rel = "stylesheet";
      link2.href = "/shared/style.css";
      document.head.appendChild(link2);
      //or
      ["/components/footer/footer.css", "/shared/style.css"].forEach((href) => {
        const link = document.createElement("link");
        link.rel = "stylesheet";
        link.href = href;
        document.head.appendChild(link);
      });
    </script>
  </body>
</html>

TODO: the small icon many , design the icon for the small icon the sponsorship (
maybe just screenshot alll hahha ) delete or uses
<div class="hero-image">
  <img
    src="36022-d5d88e9218df?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
    alt="Professional wearing smart ring while typing"
  />
</div>
